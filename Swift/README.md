# Swift

### Swift 언어의 특징
\- Safe 안정성 : 안전한 프로그래밍을 지향하기 때문에 엄격한 문법과 자동 메모리 관리를 통해 버그를 사전에 방지하고자 노력.<br> 
\- Fast 신속성 <br>
\- Expressive 표현성 : 사용하기 편하고 보기 좋은 현대적인 문법을 구현. 다중 패러다임 프로그래밍 언어 (객체지향 + 함수형 + 프로토콜 지향 프로그래밍)<br>

### 성능에 영향을 미치는 3가지
\- Memory Allocation : Stack / Heap<br>
\- Reference Counting<br>
\- Method Dispatch : Static / Dynamic

### Class, Struct, Enum Types
\- 클래스는 reference 타입으로, 참조되는 값은 힙 메모리 영역에 저장되며 상속이 가능하다. iOS 프레임워크의 대부분이 클래스로 구성되어 있다.<br>
\- 구조체는 value 타입으로, 스택 메모리 영역에 할당되어 속도가 빠르지만 상속은 불가능하다. Swift의 데이터 자료형 타입들(Int, String, Array 등)이 구조체로 이루어져 있다. 구조체는 값을 복사하여 원본과 복사본 값이 서로 영향을 받지 않아 안전하기 때문에 보통 서버에서 json 정보 등을 가져왔을 때 사용된다. <br>
\- 열거형은 연관된 값들을 하나의 그룹으로 묶어 데이터 타입으로 정의한 것으로, 미리 정의해둔 타입의 케이스 내에서 벗어날 수 없기 때문에 열거형을 사용하면 명확한 분기 처리가 가능해져 코드의 가독성과 안정성이 높아진다.

### Instance, class, static methods
Swift에서는 class, struct, enum 타입 내에서 정의된 함수들을 메서드라고 한다.<br>
호출 방식에 따라 Instance 메서드와 Type 메서드로 나뉘는데, 인스턴스 메서드는 클래스 등의 인스턴스를 생성하여 이를 통해 메서드를 호출하고, 타입 메서드는 타입으로부터 메서드를 직접 호출할 수 있다.<br> 
기본적으로 흔히 사용하고 있는 것이 바로 인스턴스 메서드이고, 공통적으로 사용되는 helper 메서드들의 경우 사용할 때마다 인스턴스를 생성하고 메모리에 할당할 필요가 없도록 타입 메서드로 정의하면 언제 어디서든 직접 호출하여 간편하게 사용할 수 있다. ex) Date 형식 변환 등 <br>
타입 메서드는 오버라이딩 여부에 따라 static과 class 메서드로 나뉘는데, static 메서드는 오버라이딩이 불가하고 class 메서드는 오버라이딩이 가능하다.<br>
\+ 구조체는 override가 불가능하기 때문에 static 메서드는 모든 타입에서 사용 가능하지만 class 메서드는 클래스 내에서만 사용이 가능하다.

### Singleton 패턴이란?
싱글톤 패턴이란 인스턴스를 하나만 생성하여 어디에서든지 참조할 수 있도록 하는 객체 생성 패턴이다.<br>
오디오북 앱에서 뮤직 플레이어를 싱글톤으로 하나만 생성하여 재생 관련 메서드들을 처리한 경험이 있는데,<br>
이처럼 앱 내에서 공용으로 사용하고 싶은 기능이나 리소스를 싱글톤으로 만들어 인스턴스를 공유할 수 있고, 여러번 호출하더라도 인스턴스가 처음 생성될 때에만 메모리에 할당되기 때문에 메모리도 절약할 수 있다는 장점이 있다. 

### 프로토콜이란?
프로토콜은 어떤 기능을 구현하기 위해 필요한 것들을 모아놓은 약속이라고 할 수 있다.<br>
프로토콜 내에서는 해당 기능을 구현하기 위해 사용되어야 할 메서드 프로퍼티 등 요구사항들의 정의만 가능하고, 구체적인 로직은 해당 프로토콜을 채택하는 타입 내에서 구현해줄 수 있다.<br>
프로토콜에서 내부 기능까지 구현을 하거나 기능을 추가하고 싶을 때에는 extension을 활용해 프로토콜을 확장해서 사용할 수도 있다.<br>
이렇게 프롤토콜을 활용하면 class 뿐 아니라 상속이 되지 않는 enum, struct 에서도 공통 기능을 모듈화하여 사용할 수 있다는 장점이 있다. 

### Protocol Oriented Programming
Swift 언어의 큰 특징 중 하나가 바로 프로토콜 지향 언어라는 것.<br>
객체 지향 언어들은 공통 기능을 모듈화하기 위해 class의 상속을 이용하지만<br>
Swift에서는 프로토콜을 활용하여 상속이 불가능한 struct enum 타입에서도 공통 기능을 모듈화하여 사용할 수 있도록 하였다.

### Generics
Generic은 Swift 의 가장 강력한 기능 중 하나로, Swift 표준 라이브러리의 대부분은 generic 으로 이루어져 있다.<br>
흔히 사용하고 있는 배열과 딕셔너리가 바로 generic collection으로 제네릭의 대표적인 예이다.<br>
타입을 특정하지 않고 함수나 타입을 구현할 수 있도록 하여, Generic을 사용하면 유연하고 재사용 가능한 코드를 작성할 수 있다.<br>
제네릭을 정의할 때 타입 파라미터로는 placeholder type으로 \<T>를 흔히 사용하며, 사용 시에 타입이 정해지면 실제 타입으로 대체된다.<br>
ex) 제네릭 함수 : swap\<T>, 제네릭 타입 : Array\<Element>, 커스텀 Stack\<Element>

### Optional 이란?
Swift 언어의 안정성에서 중요한 요소 중 하나가 바로 이 Optional 개념인데, type casting 이나 nil check 등에 있어서 중요한 역할을 한다. <br>
옵셔널이란 nil 값을 가질 수 있도록 하여 값이 있을 수도 있고, 없을 수도 있다는 것을 말한다. 
옵셔널은 임시 타입이기 때문에 값이 존재하더라도 계속 Optional()로 래핑 되어져 있기 때문에, 사용 시에 옵셔널을 벗겨서 사용해야 하는데 이를 unwrapping이라고 한다. <br>
옵셔널을 언래핑 하는 방법<br>
\- Forced Unwrapping : ! 를 사용해서 강제로 언래핑을 해주는 방법으로, 무조건 값이 있는 경우에는 괜찮지만 값이 nil 일 경우 runtime error를 발생시키기 때문에 좋은 방법은 아니다.<br>
\- Optional Binding : if let / guard let을 통해 값이 있는지 없는지 확인해서 좀 더 안전한 형태로 값을 얻을 수 있기 때문에 권장하는 방법.<br>
\- nil 병합 연산자 : ?? 뒤에 기본값을 선언하는 방법으로, 값이 존재하면 언래핑을 해주고 nil일 경우 기본값을 반환<br>
\- Optional Chaing : 옵셔널을 완전히 언래핑 하는 건 아니고, 좀 더 간결하게 옵셔널에 접근할 수 있도록 도와주는 방식

### Copy On Write 동작 방식
Copy-on-write란 컴퓨터 프로그래밍에서 리소스의 복제를 효율적으로 구현하기 위한 리소스 관리 기술로,<br>
Swift에서는 Collection Type을 복사해서 사용할 때, Value Type의 성능을 최적화하기 위해 COW를 사용한다.<br>
실제 수정이 이뤄질 때 값을 복사해서 메모리에 할당하고, 그 전에는 참조를 통해 불필요한 복사 및 메모리 사용을 줄이고자 하는 것.<br>
